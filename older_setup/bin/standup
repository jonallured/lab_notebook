#! /usr/bin/env ruby

require 'fileutils'

notes_home = ENV.fetch 'LN_HOME', '/Users/jon/code/ln_entries'

now = Time.now
folder = now.strftime("#{notes_home}/statuses/%Y/%m/%d/")
title = now.strftime("%A").downcase
filename = "#{title}.html.markdown"
path = folder + filename

unless File.file?(path)
  FileUtils.mkdir_p folder
  FileUtils.touch path
  frontmatter = <<~EOF
  ---
  title: #{title}
  ---
  EOF
  File.write(path, frontmatter)
end

puts path
