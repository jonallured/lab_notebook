#! /usr/bin/env ruby

require 'listen'
require './resolver'

entry_folders = [
  File.join(Dir.home, 'Dropbox/lab_notes/entries'),
  File.join(Dir.pwd, 'entries')
]

resolver = Resolver.new entry_folders
resolver.startup

listener = Listen.to(*entry_folders, &resolver.method(:resolve))
listener.start # not blocking

sleep
